# SimPLEX make file

CC=g++

CFLAGS = -c -g
LFLAGS= -g

all: SimPLEX

clean:
	rem rm -rf *o SimPLEX
	del *.o SimPLEX
	

SimPLEX: MCMC.o Model.o Data.o Options.o SimPLEX.o SubstitutionModel.o Tree.o \
 SingleProbabilityModel.o SingleSubstitutionRateModel.o SubstitutionMixtureModel.o \
 ProbabilityMatrixModel.o SubstitutionRateMatrixModel.o RadiusDependentModel.o
	$(CC) $(LFLAGS) -o SimPLEX MCMC.o Model.o Data.o Options.o \
	SimPLEX.o SubstitutionModel.o  Tree.o SingleProbabilityModel.o \
	SingleSubstitutionRateModel.o SubstitutionMixtureModel.o \
	ProbabilityMatrixModel.o SubstitutionRateMatrixModel.o


MCMC.o: MCMC.cpp MCMC.h Tree.h Options.h Data.h
	$(CC) $(CFLAGS) MCMC.cpp
	
Model.o: Model.cpp Model.h Tree.h Options.h Data.h SubstitutionModel.h \
 SingleSubstitutionRateModel.h SingleProbabilityModel.h ProbabilityMatrixModel.h \
 SubstitutionMixtureModel.h
	$(CC) $(CFLAGS) Model.cpp

Data.o: Data.cpp Data.h Options.h  
	$(CC) $(CFLAGS) Data.cpp

Options.o: Options.cpp Options.h
	$(CC) $(CFLAGS) Options.cpp
	
ProbabilityMatrixModel.o: ProbabilityMatrixModel.cpp ProbabilityMatrixModel.h \
 SubstitutionModel.h Options.h
	$(CC) $(CFLAGS) ProbabilityMatrixModel.cpp
	
SubstitutionRateMatrixModel.o: SubstitutionRateMatrixModel.cpp SubstitutionRateMatrixModel.h \
 SubstitutionModel.h Options.h
	$(CC) $(CFLAGS) SubstitutionRateMatrixModel.cpp

SimPLEX.o: SimPLEX.cpp SimPLEX.h Options.h Data.h MCMC.h Tree.h 
	$(CC) $(CFLAGS) SimPLEX.cpp
	
SingleProbabilityModel.o: SingleProbabilityModel.cpp SingleProbabilityModel.h \
 SubstitutionModel.h Options.h
	$(CC) $(CFLAGS) SingleProbabilityModel.cpp
	
SingleSubstitutionRateModel.o: SingleSubstitutionRateModel.cpp SingleSubstitutionRateModel.h \
 SubstitutionModel.h Options.h
	$(CC) $(CFLAGS) SingleSubstitutionRateModel.cpp
	
SubstitutionModel.o: SubstitutionModel.cpp SubstitutionModel.h Options.h
	$(CC) $(CFLAGS) SubstitutionModel.cpp
	
SubstitutionMixtureModel.o: SubstitutionMixtureModel.cpp SubstitutionMixtureModel.h \
 Options.h SubstitutionModel.h SingleSubstitutionRateModel.h \
 SingleProbabilityModel.h SubstitutionRateMatrixModel.h 
	$(CC) $(CFLAGS) SubstitutionMixtureModel.cpp
	
	
Tree.o: Tree.cpp Tree.h Options.h Data.h 
	$(CC) $(CFLAGS) Tree.cpp

RadiusDependentModel.o: RadiusDependentModel.cpp RadiusDependentModel.h \
 Options.h SubstitutionModel.h SingleSubstitutionRateModel.h \
 SingleProbabilityModel.h SubstitutionRateMatrixModel.h 
	$(CC) $(CFLAGS) RadiusDependentModel.cpp